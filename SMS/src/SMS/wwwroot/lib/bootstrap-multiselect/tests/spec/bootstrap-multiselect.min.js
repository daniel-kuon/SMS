describe('Bootstrap Multiselect "Core".',function(){beforeEach(function(){for(var e=$('<select id="multiselect" multiple="multiple"></select>'),t=1;100>t;t++){var l=$('<option value="'+t+'">'+t+"</option>");10>t&&l.prop("selected",!0),e.append(l)}$("body").append(e),e.multiselect({buttonContainer:'<div id="multiselect-container"></div>'})}),it("Should add the container after the select.",function(){expect($("#multiselect-container").length).toBe(1)}),it("Should add the multiselect button.",function(){expect($("#multiselect-container .multiselect").length).toBe(1)}),it("Should add the dropdown menu.",function(){expect($("#multiselect-container .dropdown-menu").length).toBe(1)}),it("Should add an li element with checkbox and label for each option.",function(){expect($("#multiselect-container li").length).toBe(99),expect($("#multiselect-container label").length).toBe(99),expect($('#multiselect-container input[type="checkbox"]').length).toBe(99)}),it("Should preserve selected options.",function(){expect($('#multiselect-container input[type="checkbox"]:checked').length).toBe(9),expect($("#multiselect option:selected").length).toBe(9)}),it("Should be able to select options by value.",function(){$("#multiselect").multiselect("select","10"),expect($('#multiselect option[value="10"]').prop("selected")).toBe(!0),expect($('#multiselect-container input[value="10"]').prop("checked")).toBe(!0)}),it('Select method should handle "null" and "undefined" correctly.',function(){expect($("#multiselect option:selected").length).toBe(9),$("#multiselect").multiselect("select",null),expect($("#multiselect option:selected").length).toBe(9),$("#multiselect").multiselect("select",void 0),expect($("#multiselect option:selected").length).toBe(9)}),it("Should be able to deselect options by value.",function(){$("#multiselect").multiselect("select","10"),$("#multiselect").multiselect("deselect","10"),expect($('#multiselect option[value="10"]').prop("selected")).toBe(!1),expect($('#multiselect-container input[value="10"]').prop("checked")).toBe(!1)}),it('Deselect method should handle "null" and "undefined" correctly.',function(){expect($("#multiselect option:selected").length).toBe(9),$("#multiselect").multiselect("deselect",null),expect($("#multiselect option:selected").length).toBe(9),$("#multiselect").multiselect("deselect",void 0),expect($("#multiselect option:selected").length).toBe(9)}),it("Should be able to select options using an array of values.",function(){$("#multiselect").multiselect("select",["10","11"]),expect($('#multiselect option[value="10"]').prop("selected")).toBe(!0),expect($('#multiselect-container input[value="10"]').prop("checked")).toBe(!0),expect($('#multiselect option[value="11"]').prop("selected")).toBe(!0),expect($('#multiselect-container input[value="11"]').prop("checked")).toBe(!0)}),it("Should be able to deselect options using an array of values.",function(){$("#multiselect").multiselect("select",["10","11"]),$("#multiselect").multiselect("deselect",["10","11"]),expect($('#multiselect option[value="10"]').prop("selected")).toBe(!1),expect($('#multiselect-container input[value="10"]').prop("checked")).toBe(!1),expect($('#multiselect option[value="11"]').prop("selected")).toBe(!1),expect($('#multiselect-container input[value="11"]').prop("checked")).toBe(!1)}),it("Should be able to disable the multiselect",function(){$("#multiselect").multiselect("disable"),expect($("#multiselect").prop("disabled")).toBe(!0)}),it("Should be able to enable the multiselect",function(){$("#multiselect").multiselect("disable"),$("#multiselect").multiselect("enable"),expect($("#multiselect").prop("disabled")).toBe(!1)}),it("Should be able to select all options.",function(){$("#multiselect").multiselect("selectAll");for(var e=1;100>e;e++)expect($('#multiselect option[value="'+e.toString()+'"]').prop("selected")).toBe(!0),expect($('#multiselect-container input[value="'+e.toString()+'"]').prop("checked")).toBe(!0)}),it("Should be able to deselect all options.",function(){$("#multiselect").multiselect("selectAll");for(var e=1;100>e;e++)expect($('#multiselect option[value="'+e.toString()+'"]').prop("selected")).toBe(!0),expect($('#multiselect-container input[value="'+e.toString()+'"]').prop("checked")).toBe(!0);$("#multiselect").multiselect("deselectAll");for(var e=1;100>e;e++)expect($('#multiselect option[value="'+e.toString()+'"]').prop("selected")).toBe(!1),expect($('#multiselect-container input[value="'+e.toString()+'"]').prop("checked")).toBe(!1)}),it("Should update the checkboxes according to the selected options after using refresh.",function(){for(var e=10;20>e;e++)$('#multiselect option[value="'+e+'"]').prop("selected",!0);expect($("#multiselect option:selected").length).toBe(19),expect($('#multiselect-container input[type="checkbox"]:checked').length).toBe(9),$("#multiselect").multiselect("refresh"),expect($('#multiselect-container input[type="checkbox"]:checked').length).toBe(19);for(var e=10;20>e;e++)expect($('#multiselect option[value="'+e+'"]').prop("selected")).toBe(!0)}),it("Should remove container, button and ul after destroy.",function(){$("#multiselect").multiselect("destroy"),expect($("#multiselect-container.multiselect-container").length).toBe(0),expect($("#multiselect-container .multiselect").length).toBe(0),expect($("#multiselect-container .dropdown-menu").length).toBe(0)}),it("Should select an option when checkbox is changed (change event).",function(){$('#multiselect-container li input[value="10"]').prop("checked",!0),$('#multiselect-container li input[value="10"]').trigger("change"),expect($('#multiselect-container input[value="10"]').prop("checked")).toBe(!0),expect($('#multiselect option[value="10"]').prop("selected")).toBe(!0)}),it("Should deselect an option when checkbox is changed (change event).",function(){$('#multiselect-container li input[value="10"]').prop("checked",!0),$('#multiselect-container li input[value="10"]').trigger("change"),$('#multiselect-container li input[value="10"]').prop("checked",!1),$('#multiselect-container li input[value="10"]').trigger("change"),expect($('#multiselect-container input[value="10"]').prop("checked")).toBe(!1),expect($('#multiselect option[value="10"]').prop("selected")).toBe(!1)}),it("Should select an option when checkbox is clicked.",function(){$('#multiselect-container li input[value="10"]').click(),expect($('#multiselect-container input[value="10"]').prop("checked")).toBe(!0),expect($('#multiselect option[value="10"]').prop("selected")).toBe(!0)}),it("Should deselect an option when checkbox is clicked.",function(){$('#multiselect-container li input[value="10"]').click(),$('#multiselect-container li input[value="10"]').click(),expect($('#multiselect-container input[value="10"]').prop("checked")).toBe(!1),expect($('#multiselect option[value="10"]').prop("selected")).toBe(!1)}),afterEach(function(){$("#multiselect").multiselect("destroy"),$("#multiselect").remove()})}),describe('Bootstrap Multiselect "Single Selection"',function(){beforeEach(function(){for(var e=$('<select id="multiselect"></select>'),t=1;100>t;t++)e.append('<option value="'+t+'">Option '+t+"</option>");$("body").append(e),e.multiselect({buttonContainer:'<div id="multiselect-container"></div>'})}),it("Should create radio buttons instead of checkboxes.",function(){expect($('#multiselect-container input[type="radio"]').length).toBe(99),expect($('#multiselect-container input[type="checkbox"]').length).toBe(0),expect($("#multiselect option:selected").length).toBe(1)}),it("Only one option at a time can be selected.",function(){expect($("#multiselect option:selected").length).toBe(1);var e=0;$("#multiselect-container input").each(function(){0===e?(expect($(this).prop("checked")).toBe(!0),e++):(expect($(this).prop("checked")).toBe(!1),$(this).click(),expect($("#multiselect option:selected").length).toBe(1),expect($(this).prop("checked")).toBe(!0),e++)})}),afterEach(function(){$("#multiselect").multiselect("destroy"),$("#multiselect").remove()})}),describe('Bootstrap Multiselect "Optgroups"',function(){beforeEach(function(){for(var e=$('<select id="multiselect" multiple="multiple"></select>'),t=1;11>t;t++){for(var l=$('<optgroup label="Group '+t+'"></optgroup>'),c=1;11>c;c++)l.append('<option value="'+t+"-"+c+'">Option '+t+"."+c+"</option>");e.append(l)}$("body").append(e),e.multiselect({buttonContainer:'<div id="multiselect-container"></div>',enableClickableOptGroups:!0})}),it("Should correctly create labels for optgroups.",function(){expect($("#multiselect-container li.multiselect-group").length).toBe(10),expect($("#multiselect-container li.multiselect-group-clickable").length).toBe(10),$("#multiselect-container label.multiselect-group").each(function(){expect($("input",$(this)).length).toBe(10)})}),it("Groups should be clickable.",function(){expect($("#multiselect option:selected").length).toBe(0);var e=0;$("#multiselect-container li.multiselect-group").each(function(){$("label",$(this)).click(),expect($("option:selected",$("#multiselect optgroup")[e]).length).toBe(10),expect($("#multiselect option:selected").length).toBe(10),$("label",$(this)).click(),e++})}),afterEach(function(){$("#multiselect").multiselect("destroy"),$("#multiselect").remove()})}),describe('Bootstrap Multiselect "Dataprovider"',function(){beforeEach(function(){var e=$('<select id="multiselect" multiple="multiple"></select>');$("body").append(e),e.multiselect({buttonContainer:'<div id="multiselect-container"></div>'})});var e=[{label:"Option 1",value:"1",selected:!0,title:"Option 1 Title"},{label:"Option 2",value:"2",title:"Option 2 Title"},{label:"Option 3",value:"3",selected:!0,title:"Option 3 Title"},{label:"Option 4",value:"4",title:"Option 4 Title"},{label:"Option 5",value:"5",title:"Option 5 Title"},{label:"Option 6",value:"6",title:"Option 6 Title"}];it("Should be able to add options.",function(){$("#multiselect").multiselect("dataprovider",e),expect($("#multiselect option").length).toBe(6),expect($("#multiselect-container input").length).toBe(6),expect($('#multiselect option[value="1"]').length).toBe(1),expect($('#multiselect option[value="1"]').prop("selected")).toBe(!0),expect($('#multiselect-container input[value="1"]').prop("checked")).toBe(!0),expect($('#multiselect option[value="2"]').length).toBe(1),expect($('#multiselect option[value="2"]').prop("selected")).toBe(!1),expect($('#multiselect-container input[value="2"]').prop("checked")).toBe(!1),expect($('#multiselect option[value="3"]').length).toBe(1),expect($('#multiselect option[value="3"]').prop("selected")).toBe(!0),expect($('#multiselect-container input[value="3"]').prop("checked")).toBe(!0),expect($('#multiselect option[value="4"]').length).toBe(1),expect($('#multiselect option[value="4"]').prop("selected")).toBe(!1),expect($('#multiselect-container input[value="4"]').prop("checked")).toBe(!1),expect($('#multiselect option[value="5"]').length).toBe(1),expect($('#multiselect option[value="5"]').prop("selected")).toBe(!1),expect($('#multiselect-container input[value="5"]').prop("checked")).toBe(!1),expect($('#multiselect option[value="6"]').length).toBe(1),expect($('#multiselect option[value="6"]').prop("selected")).toBe(!1),expect($('#multiselect-container input[value="6"]').prop("checked")).toBe(!1)}),it("Should be able to define title.",function(){$("#multiselect").multiselect("dataprovider",e),expect($('#multiselect option[value="1"]').attr("title")).toBe("Option 1 Title"),expect($('#multiselect option[value="2"]').attr("title")).toBe("Option 2 Title"),expect($('#multiselect option[value="3"]').attr("title")).toBe("Option 3 Title"),expect($('#multiselect option[value="4"]').attr("title")).toBe("Option 4 Title"),expect($('#multiselect option[value="5"]').attr("title")).toBe("Option 5 Title"),expect($('#multiselect option[value="6"]').attr("title")).toBe("Option 6 Title"),expect($('#multiselect-container input[value="1"]').closest("label").attr("title")).toBe("Option 1 Title"),expect($('#multiselect-container input[value="2"]').closest("label").attr("title")).toBe("Option 2 Title"),expect($('#multiselect-container input[value="3"]').closest("label").attr("title")).toBe("Option 3 Title"),expect($('#multiselect-container input[value="4"]').closest("label").attr("title")).toBe("Option 4 Title"),expect($('#multiselect-container input[value="5"]').closest("label").attr("title")).toBe("Option 5 Title"),expect($('#multiselect-container input[value="6"]').closest("label").attr("title")).toBe("Option 6 Title")});var t=[{label:"Group 1",children:[{label:"Option 1.1",value:"1-1"},{label:"Option 1.2",value:"1-2"},{label:"Option 1.3",value:"1-3"}]},{label:"Group 2",children:[{label:"Option 2.1",value:"1"},{label:"Option 2.2",value:"2"},{label:"Option 2.3",value:"3"}]}];it("Should be able to handle optgroups.",function(){$("#multiselect").multiselect("dataprovider",t),expect($("#multiselect optgroup").length).toBe(2),expect($("#multiselect option").length).toBe(6),expect($("#multiselect-container input").length).toBe(6),expect($('#multiselect optgroup[label="Group 1"] option').length).toBe(3),expect($('#multiselect optgroup[label="Group 2"] option').length).toBe(3)}),afterEach(function(){$("#multiselect").multiselect("destroy"),$("#multiselect").remove()})}),describe('Bootstrap Multiselect "Select All".',function(){var e=!1,t=!1;beforeEach(function(){for(var l=$('<select id="multiselect" multiple="multiple"></select>'),c=1;100>c;c++)l.append('<option value="'+c+'">1</option>');$("body").append(l),l.multiselect({buttonContainer:'<div id="multiselect-container"></div>',includeSelectAllOption:!0,selectAllValue:"multiselect-all",onSelectAll:function(){e=!0},onDeselectAll:function(){t=!0}})}),it("Should not add an additional option to the select.",function(){expect($('#multiselect option[value="multiselect-all"]').length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').length).toBe(1),expect($("#multiselect option").length).toBe(99),expect($("#multiselect-container input").length).toBe(100)}),it('Should update the select all when all options are selected by the "select" method.',function(){expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1);for(var e=1;100>e;e++)$("#multiselect").multiselect("select",e.toString()),expect($('#multiselect option[value="'+e.toString()+'"]').prop("selected")).toBe(!0);expect($("#multiselect option:selected").length).toBe(99),expect($("#multiselect-container input").length).toBe(100),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!0)}),it('Should update the select all when all options are deselected by the "deselect" method (first all options are selected as before).',function(){expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1);for(var e=1;100>e;e++)$("#multiselect").multiselect("select",e.toString());expect($("#multiselect option:selected").length).toBe(99),expect($("#multiselect-container input:checked").length).toBe(100),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!0);for(var e=1;100>e;e++)$("#multiselect").multiselect("deselect",e.toString());expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1)}),it("Should update the select all option when all options are selected by the change event.",function(){expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1),$('#multiselect-container input[value!="multiselect-all"]').prop("checked",!0),$('#multiselect-container input[value!="multiselect-all"]').trigger("change"),expect($('#multiselect option:selected[value!="multiselect-all"]').length).toBe(99),expect($("#multiselect option:selected").length).toBe(99),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!0)}),it("Should update the select all option when all options are deselected by the change event.",function(){expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1),$('#multiselect-container input[value!="multiselect-all"]').prop("checked",!0),$('#multiselect-container input[value!="multiselect-all"]').trigger("change"),expect($('#multiselect option:selected[value!="multiselect-all"]').length).toBe(99),expect($("#multiselect option:selected").length).toBe(99),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!0),$('#multiselect-container input[value!="multiselect-all"]').prop("checked",!1),$('#multiselect-container input[value!="multiselect-all"]').trigger("change"),expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1)}),it("Should update the select all option when all options are selected by the click event.",function(){expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1),$('#multiselect-container input[value!="multiselect-all"]').click(),expect($("#multiselect option:selected").length).toBe(99),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!0)}),it("Should update the select all option when all options are deselected by the click event.",function(){expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1),$('#multiselect-container input[value!="multiselect-all"]').click(),expect($("#multiselect option:selected").length).toBe(99),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!0),$('#multiselect-container input[value!="multiselect-all"]').click(),expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1)}),it("Should trigger onSelectAll based on the change event.",function(){expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1),$('#multiselect-container input[value!="multiselect-all"]').prop("checked",!0),$('#multiselect-container input[value!="multiselect-all"]').trigger("change"),expect($('#multiselect option:selected[value!="multiselect-all"]').length).toBe(99),expect($("#multiselect option:selected").length).toBe(99),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!0),expect(e).toBe(!0)}),it("Should trigger onSelectAll based on the click event.",function(){expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!1),$('#multiselect-container input[value!="multiselect-all"]').click(),expect($("#multiselect option:selected").length).toBe(99),expect($('#multiselect-container input[value="multiselect-all"]').prop("checked")).toBe(!0),expect(e).toBe(!0)}),it("Should trigger onSelectAll on function call.",function(){$("#multiselect").multiselect("selectAll",!0,!0),expect(e).toBe(!0)}),afterEach(function(){$("#multiselect").multiselect("destroy"),$("#multiselect").remove()})}),describe("Bootstrap Multiselect Specific Issues",function(){it("#393",function(){for(var e=$('<select id="multiselect" multiple="multiple"></select>'),t=1;100>t;t++)e.append('<option value="'+t+'">1</option>');$("body").append(e),e.multiselect({buttonContainer:'<div id="multiselect-container"></div>',includeSelectAllOption:!0,selectAllValue:0}),expect($('#multiselect-container input[value="0"]').length).toBe(1),expect($('#multiselect-container input[value="0"]').prop("checked")).toBe(!1),$("#multiselect").multiselect("selectAll"),expect($("#multiselect option:selected").length).toBe(99),expect($('#multiselect-container input[value="0"]').prop("checked")).toBe(!0),$("#multiselect").multiselect("deselectAll"),expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="0"]').prop("checked")).toBe(!1),$('#multiselect-container input[value="0"]').click(),expect($("#multiselect option:selected").length).toBe(99),expect($('#multiselect-container input[value="0"]').prop("checked")).toBe(!0),$('#multiselect-container input[value="0"]').click(),expect($("#multiselect option:selected").length).toBe(0),expect($('#multiselect-container input[value="0"]').prop("checked")).toBe(!1),$("#multiselect").multiselect("destroy"),$("#multiselect").remove()}),it("#405",function(){for(var e=document.getSelection(),t=document.createRange(),l=$("<span>Some text to select</span>"),c=$('<select id="multiselect" multiple="multiple"></select>'),i=1;5>i;i++)c.append('<option value="'+i+'">select option</option>');$("body").append(l).append(c),c.multiselect({buttonContainer:'<div id="multiselect-container"></div>'}),t.selectNodeContents(l.get(0)),e.removeAllRanges(),e.addRange(t),"Range"===document.getSelection().type&&($("#multiselect-container").find("a:first label").trigger("click"),expect($("#multiselect-container").find("input:first").prop("checked")).toBe(!0)),$("#multiselect").multiselect("destroy"),$("#multiselect").remove(),l.remove()})});
//# sourceMappingURL=bootstrap-multiselect.min.js.map
