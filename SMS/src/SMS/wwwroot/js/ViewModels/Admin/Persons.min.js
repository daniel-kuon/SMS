var personDeails=$("#personDetails"),Person=ClientModel.Person,deletePerson=$("#deletePerson"),adminPersonViewModel,AdminPersonViewModel;!function(e){var n=ClientModel.Person,o=function(){function e(){var e=this;this.People=ko.observableArray(),this.CurrentPerson=ko.observable(new n),this.PersonApi=ServerApi.Persons,this.NewPerson=ko.computed(function(){return void 0===e.CurrentPerson().Id()}),this.PersonApi.Get().done(function(o){for(var r=0,i=o;r<i.length;r++){var s=i[r];e.People.push((new n).LoadFromServerEntity(s))}})}return e.prototype.SavePerson=function(){adminPersonViewModel.CurrentPerson().SaveToServer().done(function(){personDeails.modal("hide"),adminPersonViewModel.People.push(adminPersonViewModel.CurrentPerson()),adminPersonViewModel.CurrentPerson(new n)})},e.prototype.CancelEditPerson=function(){adminPersonViewModel.CurrentPerson().RevertState(!0),adminPersonViewModel.CurrentPerson(new n),personDeails.modal("hide")},e.prototype.DeletePerson=function(){adminPersonViewModel.CurrentPerson().DeleteOnServer().done(function(){adminPersonViewModel.People.remove(adminPersonViewModel.CurrentPerson()),deletePerson.modal("hide"),adminPersonViewModel.CurrentPerson(void 0)})},e.prototype.AddPerson=function(){adminPersonViewModel.CurrentPerson(new n),adminPersonViewModel.People.push(adminPersonViewModel.CurrentPerson()),adminPersonViewModel.SavePerson()},e.prototype.SelectPerson=function(e){adminPersonViewModel.CurrentPerson(e),e.SaveState()},e}();e.Model=o}(AdminPersonViewModel||(AdminPersonViewModel={})),adminPersonViewModel=new AdminPersonViewModel.Model,ko.applyBindings(adminPersonViewModel);
//# sourceMappingURL=Persons.min.js.map
