var Pager=function(){function e(e,t){var r=this;this.IdPrefix=ko.observable(),this.HasDetailView=ko.observable(!1),this.ShowEditDeleteControls=ko.observable(!1),this.EditingHelper=ko.observable(),this.UseResponsiveTable=ko.observable(!1),this.UseStripedTable=ko.observable(!1),this.UseSmallColumnControls=ko.observable(!1),this.UseSmallControls=ko.observable(!1),this.ActivePage=ko.observable(0),this.ShowPageSizeSelector=ko.observable(!0),this.ShowColumnSelector=ko.observable(!0),this.PageSize=ko.observable(10),this.PageSizes=ko.observableArray([5,10,15,20,30,40,50,100]),this.PageCount=ko.computed({deferEvaluation:!0,read:function(){var e=Math.ceil(r.FilteredSource().length/r.PageSize());return r.ActivePage()*r.PageSize()>=e&&r.ActivePage(e-1),e}}),this.Pages=ko.computed({deferEvaluation:!0,read:function(){for(var e=[],t=0;t<r.PageCount();t++)e.push({index:t+1,selected:t===r.ActivePage()});return e}}),this.HasPrevPage=ko.computed({deferEvaluation:!0,read:function(){return 0!==r.ActivePage()}}),this.HasNextPage=ko.computed({deferEvaluation:!0,read:function(){return r.ActivePage()!==r.PageCount()-1}}),this.FilteredSource=ko.computed({deferEvaluation:!0,read:function(){return r.Source().slice()}}),this.SortedSource=ko.computed({deferEvaluation:!0,read:function(){return void 0!==r.CurrentlySortedBy()?r.FilteredSource().sort(r.CurrentlySortedBy().CurrentSortMode()===SortModes.Ascending?r.CurrentlySortedBy().Sorter:function(e,t){return r.CurrentlySortedBy().Sorter(t,e)}):r.FilteredSource()}}),this.DisplaySource=ko.computed({deferEvaluation:!0,read:function(){var e=r.PageSize()*r.ActivePage();return r.SortedSource().slice(e,e+r.PageSize())}}),this.DisplayColumns=ko.computed({deferEvaluation:!0,read:function(){return r.Columns().slice().filter(function(e){return e.Visible()})}}),this.DisplaySpecialActions=ko.computed({deferEvaluation:!0,read:function(){return r.SpecialActions().slice().filter(function(e){return e.Visible()})}}),this.DisplaySpecialColumnActions=function(e){return r.SpecialColumnActions().slice().filter(function(t){return t.Visible.apply(e)})},this.Columns=ko.observableArray(),this.SpecialColumnActions=ko.observableArray(),this.CurrentlySortedBy=ko.observable(),this.ShowSorters=ko.observable(!0),this.SpecialActions=ko.observableArray(),this.SortBy=function(e){e.IsSortable()&&(e.CurrentSortMode()===SortModes.Ascending?e.CurrentSortMode(SortModes.Descending):e.CurrentSortMode()===SortModes.Descending?e.CurrentSortMode(SortModes.Ascending):(e.CurrentSortMode(SortModes.Ascending),void 0!==r.CurrentlySortedBy()&&r.CurrentlySortedBy().CurrentSortMode(SortModes.None),r.CurrentlySortedBy(e)))},this.SelectPage=function(e){r.ActivePage(e.index-1)},this.SelectNextPage=function(){r.HasNextPage()&&r.ActivePage(r.ActivePage()+1)},this.SelectPrevPage=function(){r.HasPrevPage()&&r.ActivePage(r.ActivePage()-1)};this.Source=e,this.Columns(t.Columns);for(var o=0,i=this.Columns();o<i.length;o++){var n=i[o];n.CurrentSortMode()!==SortModes.None&&this.CurrentlySortedBy()!==n&&(void 0!==this.CurrentlySortedBy()&&this.CurrentlySortedBy().CurrentSortMode(SortModes.None),this.CurrentlySortedBy(n))}if(void 0!==t.SpecialColumnActions)for(var s=0,a=t.SpecialColumnActions;s<a.length;s++){var l=a[s];this.SpecialColumnActions.push(l)}if(void 0!==t.SpecialActions)for(var u=0,d=t.SpecialActions;u<d.length;u++){var l=d[u];this.SpecialActions.push(l)}this.IdPrefix(t.IdPrefix),void 0!==t.PageSize&&this.PageSize(t.PageSize),void 0!==t.PageSizes&&this.PageSizes(t.PageSizes),this.UseResponsiveTable(t.UseResponsiveTable||!1),this.UseStripedTable(t.UseStripedTable||!1),this.UseSmallColumnControls(t.UseSmallColumnControls||!1),this.UseSmallControls(t.UseSmallControls||!1),void 0!==t.EditingHelper&&(this.HasDetailView(t.EditingHelper.HasDetailView),this.ShowEditDeleteControls(t.ShowEditDeleteControls||!1),this.EditingHelper(t.EditingHelper)),void 0!==t.ShowColumnSelector&&this.ShowColumnSelector(t.ShowColumnSelector),void 0!==t.ShowPageSizeSelector&&this.ShowPageSizeSelector(t.ShowPageSizeSelector)}return e}(),PagerSpecialColumnAction=function(){function e(e,t,r,o){this.Name=e,this.Action=t,this.Enabled=ko.computed(function(){return!0}),this.Visible=ko.computed(function(){return!0}),void 0!==r&&(ko.isObservable(r)?this.Enabled=r:this.Enabled=ko.computed(function(){return r(this)})),void 0!==o&&(ko.isObservable(o)?this.Visible=o:this.Visible=ko.computed(function(){return console.log(this),o(this)}))}return e}(),PagerSpecialAction=function(){function e(e,t,r,o){this.Name=e,this.Action=t,this.Enabled=ko.computed(function(){return!0}),this.Visible=ko.computed(function(){return!0}),void 0!==r&&(ko.isObservable(r)?this.Enabled=r:this.Enabled=ko.computed(function(){return r()})),void 0!==o&&(ko.isObservable(o)?this.Visible=o:this.Visible=ko.computed(function(){return o()}))}return e}(),SortModes;!function(e){e[e.None=0]="None",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(SortModes||(SortModes={}));var PagerColumn=function(){function e(t,r,o){var i=this;if(void 0===o&&(o={}),this.Name=t,this.Value=r,this.CssClasses="",this.Styles="",this.Visible=ko.observable(!0),this.IsSortable=function(){return void 0!==i.ValueSorter},this.CurrentSortMode=ko.observable(SortModes.None),this.Sorter=function(e,t){return i.ValueSorter(ko.unwrap(i.Value(e)),ko.unwrap(i.Value(t)))},this.DisplayValue=function(e){return ko.computed({deferEvaluation:!0,read:function(){var t=ko.unwrap(i.Value(e));return void 0===t?"":i.Renderer(t)}})},this.DisplayName=ko.computed({deferEvaluation:!0,read:function(){return i.CurrentSortMode()===SortModes.None?ko.unwrap(i.Name):ko.unwrap(i.Name)+(i.CurrentSortMode()===SortModes.Ascending?" &#9650;":" &#9660;")}}),void 0!==o.Visible&&this.Visible(o.Visible),this.Renderer=o.Renderer||e.DefaultRenderer(),this.ValueSorter=o.Sorter,void 0!==o.SortMode&&this.CurrentSortMode(o.SortMode),void 0!==o.CssClasses)if(o.CssClasses instanceof Array&&o.CssClasses.length>0){this.CssClasses=o.CssClasses[0];for(var n=1;n<o.CssClasses.length;n++)this.CssClasses+" "+o.CssClasses[n]}else"string"==typeof o.CssClasses&&(this.CssClasses=o.CssClasses);if(void 0!==o.Styles)if(o.Styles instanceof Array&&o.Styles.length>0){this.Styles="";for(var s=0,a=o.Styles;s<a.length;s++){var l=a[s];this.Styles+=l.key+": "+l.value+";"}}else"string"==typeof o.Styles&&(this.Styles=o.Styles);void 0!==o.Width&&(this.Styles="width: "+o.Width+"px;"+(this.Styles||""))}return e.ArrayRenderer=function(t,r){return void 0===t&&(t=", "),void 0===r&&(r=e.DefaultRenderer()),function(e){var o="";if(void 0!==e&&e.length>0){o+=r(e[0]);for(var i=1;i<e.length;i++)o+=t+r(e[i])}return o}},e.StringSorter=function(){return function(e,t){return e>t?1:-1}},e.NumberSorter=function(){return function(e,t){return e>t?1:-1}},e.DateSorter=function(){return function(e,t){return new Date(e)-new Date(t)}},e.ArraySorter=function(){return function(e,t){return e.length-t.length}},e.DefaultRenderer=function(){return function(t){return void 0===t?"":t instanceof Date?e.DateRenderer()(t):t instanceof Array?e.ArrayRenderer()(t):t.toString()}},e.DateRenderer=function(){return function(e){return moment(e).format("LL")}},e.DateTimeRenderer=function(){return function(e){return moment(e).format("LLL")}},e.TimeRenderer=function(){return function(e){return moment(e).format("LT")}},e}();
//# sourceMappingURL=Pager.min.js.map
