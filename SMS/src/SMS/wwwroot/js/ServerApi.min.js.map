{"version":3,"sources":["wwwroot/js/ServerApi.js","/source/wwwroot/js/ServerApi.ts"],"names":["__extends","this","d","b","__","constructor","p","hasOwnProperty","prototype","Object","create","ServerApi","HttpMethod","Api","baseUrl","BuildRequestBody","url","method","data","contentType","dataType","JSON","stringify","Get","id","undefined","CreateRequest","GET","toString","Delete","DELETE","Create","entity","POST","Update","Id","PUT","body","conntectionCount","$","ajax","fail","alert","console","log","always","ko","observable","connectionOpen","computed","ConnectionApi","Connect","id1","id2","Disconnect","HarbourApi","_super","apply","arguments","GetDefault","AlbumApi","CommentApi","CommentListApi","WaypointApi","WaypointConnectionApi","PersonApi","JobApi","TripApi","TackApi","AddressApi","ImageApi","LocationApi","SupermarketApi","RestaurantApi"],"mappings":"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","file":"wwwroot/js/ServerApi.min.js","sourcesContent":["var __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ServerApi;\n(function (ServerApi) {\n    (function (HttpMethod) {\n        HttpMethod[HttpMethod[\"POST\"] = 0] = \"POST\";\n        HttpMethod[HttpMethod[\"GET\"] = 1] = \"GET\";\n        HttpMethod[HttpMethod[\"PUT\"] = 2] = \"PUT\";\n        HttpMethod[HttpMethod[\"DELETE\"] = 3] = \"DELETE\";\n    })(ServerApi.HttpMethod || (ServerApi.HttpMethod = {}));\n    var HttpMethod = ServerApi.HttpMethod;\n    var Api = (function () {\n        function Api(baseUrl) {\n            this.baseUrl = baseUrl;\n        }\n        Api.prototype.BuildRequestBody = function (url, method, data) {\n            return {\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"json\",\n                method: HttpMethod[method],\n                url: this.baseUrl + \"/\" + url,\n                data: JSON.stringify(data)\n            };\n        };\n        Api.prototype.Get = function (id) {\n            if (id === undefined)\n                return this.CreateRequest((this.BuildRequestBody(\"\", HttpMethod.GET)));\n            else\n                return this.CreateRequest((this.BuildRequestBody(id.toString(), HttpMethod.GET)));\n        };\n        Api.prototype.Delete = function (id) {\n            return this.CreateRequest((this.BuildRequestBody(id.toString(), HttpMethod.DELETE)));\n        };\n        Api.prototype.Create = function (entity) {\n            return this.CreateRequest((this.BuildRequestBody(\"\", HttpMethod.POST, entity)));\n        };\n        Api.prototype.Update = function (entity) {\n            return this.CreateRequest(this.BuildRequestBody(entity.Id.toString(), HttpMethod.PUT, entity));\n        };\n        Api.prototype.CreateRequest = function (body) {\n            Api.conntectionCount(Api.conntectionCount() + 1);\n            return $.ajax(body).fail(function (d) {\n                alert(d);\n                console.log(d);\n            }).always(function () {\n                Api.conntectionCount(Api.conntectionCount() - 1);\n            });\n        };\n        Api.conntectionCount = ko.observable(0);\n        Api.connectionOpen = ko.computed(function () {\n            return Api.conntectionCount() > 0;\n        });\n        return Api;\n    }());\n    ServerApi.Api = Api;\n    var ConnectionApi = (function () {\n        function ConnectionApi(baseUrl) {\n            this.baseUrl = baseUrl;\n        }\n        ConnectionApi.prototype.Get = function () {\n            return this.CreateRequest(this.BuildRequestBody(\"\", HttpMethod.GET));\n        };\n        ConnectionApi.prototype.Connect = function (id1, id2) {\n            return this.CreateRequest(this.BuildRequestBody(id1 + \"/\" + id2, HttpMethod.POST));\n        };\n        ConnectionApi.prototype.Disconnect = function (id1, id2) {\n            return this.CreateRequest(this.BuildRequestBody(id1 + \"/\" + id2, HttpMethod.DELETE));\n        };\n        ConnectionApi.prototype.CreateRequest = function (body) {\n            Api.conntectionCount(Api.conntectionCount() + 1);\n            return $.ajax(body).fail(function (d) {\n                alert(d);\n                console.log(d);\n            }).always(function () {\n                Api.conntectionCount(Api.conntectionCount() - 1);\n            });\n        };\n        ConnectionApi.prototype.BuildRequestBody = function (url, method, data) {\n            return {\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"json\",\n                method: HttpMethod[method],\n                url: this.baseUrl + \"/\" + url,\n                data: JSON.stringify(data)\n            };\n        };\n        return ConnectionApi;\n    }());\n    ServerApi.ConnectionApi = ConnectionApi;\n    var HarbourApi = (function (_super) {\n        __extends(HarbourApi, _super);\n        function HarbourApi() {\n            _super.apply(this, arguments);\n        }\n        HarbourApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new HarbourApi(\"/api/Harbours\");\n            return this.default;\n        };\n        return HarbourApi;\n    }(Api));\n    ServerApi.HarbourApi = HarbourApi;\n    var AlbumApi = (function (_super) {\n        __extends(AlbumApi, _super);\n        function AlbumApi() {\n            _super.apply(this, arguments);\n        }\n        AlbumApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new AlbumApi(\"/api/Albums\");\n            return this.default;\n        };\n        return AlbumApi;\n    }(Api));\n    ServerApi.AlbumApi = AlbumApi;\n    var CommentApi = (function (_super) {\n        __extends(CommentApi, _super);\n        function CommentApi() {\n            _super.apply(this, arguments);\n        }\n        CommentApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new CommentApi(\"/api/Comments\");\n            return this.default;\n        };\n        return CommentApi;\n    }(Api));\n    ServerApi.CommentApi = CommentApi;\n    var CommentListApi = (function (_super) {\n        __extends(CommentListApi, _super);\n        function CommentListApi() {\n            _super.apply(this, arguments);\n        }\n        CommentListApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new CommentListApi(\"/api/CommentLists\");\n            return this.default;\n        };\n        return CommentListApi;\n    }(Api));\n    ServerApi.CommentListApi = CommentListApi;\n    var WaypointApi = (function (_super) {\n        __extends(WaypointApi, _super);\n        function WaypointApi() {\n            _super.apply(this, arguments);\n        }\n        WaypointApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new WaypointApi(\"/api/Waypoints\");\n            return this.default;\n        };\n        return WaypointApi;\n    }(Api));\n    ServerApi.WaypointApi = WaypointApi;\n    var WaypointConnectionApi = (function () {\n        function WaypointConnectionApi(baseUrl) {\n            this.baseUrl = baseUrl;\n        }\n        WaypointConnectionApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new WaypointConnectionApi(\"/api/WaypointConnections\");\n            return this.default;\n        };\n        WaypointConnectionApi.prototype.Get = function () {\n            return this.CreateRequest(this.BuildRequestBody(\"\", HttpMethod.GET));\n        };\n        WaypointConnectionApi.prototype.Connect = function (id1, id2) {\n            return this.CreateRequest(this.BuildRequestBody(id1 + \"/\" + id2, HttpMethod.POST));\n        };\n        WaypointConnectionApi.prototype.Disconnect = function (id1, id2) {\n            if (id2 !== undefined)\n                return this.CreateRequest(this.BuildRequestBody(id1 + \"/\" + id2, HttpMethod.DELETE));\n            return this.CreateRequest(this.BuildRequestBody(id1.toString(), HttpMethod.DELETE));\n        };\n        WaypointConnectionApi.prototype.CreateRequest = function (body) {\n            Api.conntectionCount(Api.conntectionCount() + 1);\n            return $.ajax(body).fail(function (d) {\n                alert(d);\n                console.log(d);\n            }).always(function () {\n                Api.conntectionCount(Api.conntectionCount() - 1);\n            });\n        };\n        WaypointConnectionApi.prototype.BuildRequestBody = function (url, method, data) {\n            return {\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"json\",\n                method: HttpMethod[method],\n                url: this.baseUrl + \"/\" + url,\n                data: JSON.stringify(data)\n            };\n        };\n        return WaypointConnectionApi;\n    }());\n    ServerApi.WaypointConnectionApi = WaypointConnectionApi;\n    var PersonApi = (function (_super) {\n        __extends(PersonApi, _super);\n        function PersonApi() {\n            _super.apply(this, arguments);\n        }\n        PersonApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new PersonApi(\"/api/People\");\n            return this.default;\n        };\n        return PersonApi;\n    }(Api));\n    ServerApi.PersonApi = PersonApi;\n    var JobApi = (function (_super) {\n        __extends(JobApi, _super);\n        function JobApi() {\n            _super.apply(this, arguments);\n        }\n        JobApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new JobApi(\"/api/Jobs\");\n            return this.default;\n        };\n        return JobApi;\n    }(Api));\n    ServerApi.JobApi = JobApi;\n    var TripApi = (function (_super) {\n        __extends(TripApi, _super);\n        function TripApi() {\n            _super.apply(this, arguments);\n        }\n        TripApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new TripApi(\"/api/Trips\");\n            return this.default;\n        };\n        return TripApi;\n    }(Api));\n    ServerApi.TripApi = TripApi;\n    var TackApi = (function (_super) {\n        __extends(TackApi, _super);\n        function TackApi() {\n            _super.apply(this, arguments);\n        }\n        TackApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new TackApi(\"/api/Tacks\");\n            return this.default;\n        };\n        return TackApi;\n    }(Api));\n    ServerApi.TackApi = TackApi;\n    var AddressApi = (function (_super) {\n        __extends(AddressApi, _super);\n        function AddressApi() {\n            _super.apply(this, arguments);\n        }\n        AddressApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new AddressApi(\"/api/Addresses\");\n            return this.default;\n        };\n        return AddressApi;\n    }(Api));\n    ServerApi.AddressApi = AddressApi;\n    var ImageApi = (function (_super) {\n        __extends(ImageApi, _super);\n        function ImageApi() {\n            _super.apply(this, arguments);\n        }\n        ImageApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new ImageApi(\"/api/Images\");\n            return this.default;\n        };\n        return ImageApi;\n    }(Api));\n    ServerApi.ImageApi = ImageApi;\n    var LocationApi = (function (_super) {\n        __extends(LocationApi, _super);\n        function LocationApi() {\n            _super.apply(this, arguments);\n        }\n        LocationApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new LocationApi(\"/api/Locations\");\n            return this.default;\n        };\n        return LocationApi;\n    }(Api));\n    ServerApi.LocationApi = LocationApi;\n    var SupermarketApi = (function (_super) {\n        __extends(SupermarketApi, _super);\n        function SupermarketApi() {\n            _super.apply(this, arguments);\n        }\n        SupermarketApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new SupermarketApi(\"/api/Supermarkets\");\n            return this.default;\n        };\n        return SupermarketApi;\n    }(Api));\n    ServerApi.SupermarketApi = SupermarketApi;\n    var RestaurantApi = (function (_super) {\n        __extends(RestaurantApi, _super);\n        function RestaurantApi() {\n            _super.apply(this, arguments);\n        }\n        RestaurantApi.GetDefault = function () {\n            if (this.default === undefined)\n                this.default = new RestaurantApi(\"/api/Restaurants\");\n            return this.default;\n        };\n        return RestaurantApi;\n    }(Api));\n    ServerApi.RestaurantApi = RestaurantApi;\n})(ServerApi || (ServerApi = {}));\n\n","module ServerApi {\r\n    import Entity = ServerModel.Entity;\r\n    import Harbour = ServerModel.Harbour;\r\n    import Waypoint = ServerModel.Waypoint;\r\n    import Person = ServerModel.Person;\r\n    import Job = ServerModel.Job;\r\n    import Trip = ServerModel.Trip;\r\n    import WaypointConnection = ServerModel.WaypointConnection;\r\n    import Tack = ServerModel.Tack;\r\n    import Address = ServerModel.Address;\r\n    import Image = ServerModel.Image;\r\n    import Album = ServerModel.Album;\r\n    import WaypointTack = ServerModel.WaypointTack;\r\n    import Location = ServerModel.Location;\r\n    import Restaurant = ServerModel.Restaurant;\r\n    import Supermarket = ServerModel.Supermarket;\r\n    import Comment = ServerModel.Comment;\r\n    import CommentList = ServerModel.CommentList;\r\n\r\n    export enum HttpMethod {\r\n        POST,\r\n        GET,\r\n        PUT,\r\n        DELETE\r\n    }\r\n\r\n    export abstract class Api<T extends Entity> {\r\n        static conntectionCount = ko.observable(0);\r\n\r\n        static connectionOpen=ko.computed(() => {\r\n            return Api.conntectionCount() > 0;\r\n        });\r\n\r\n        constructor(public baseUrl: string) {\r\n\r\n        }\r\n\r\n        BuildRequestBody(url: string, method: HttpMethod, data?: any): JQueryAjaxSettings {\r\n            return {\r\n                contentType: \"application/json; charset=utf-8\",\r\n                dataType: \"json\",\r\n                method: HttpMethod[method],\r\n                url: this.baseUrl + \"/\" + url,\r\n                data: JSON.stringify(data)\r\n            };\r\n        }\r\n\r\n        Get(): JQueryPromise<T[]>;\r\n        Get(id: number): JQueryPromise<T>;\r\n        Get(id?: number): any {\r\n            if (id === undefined)\r\n                return this.CreateRequest<T[]>((this.BuildRequestBody(\"\", HttpMethod.GET)));\r\n            else\r\n                return this.CreateRequest<T>((this.BuildRequestBody(id.toString(), HttpMethod.GET)));\r\n        }\r\n\r\n        Delete(id: number): JQueryPromise<T> {\r\n            return this.CreateRequest<T>((this.BuildRequestBody(id.toString(), HttpMethod.DELETE)));\r\n        }\r\n\r\n        Create(entity: T): JQueryPromise<T> {\r\n            return this.CreateRequest<T>((this.BuildRequestBody(\"\", HttpMethod.POST, entity)));\r\n        }\r\n\r\n        Update(entity: T): JQueryPromise<T> {\r\n            return this.CreateRequest<T>(this.BuildRequestBody(entity.Id.toString(), HttpMethod.PUT, entity));\r\n        }\r\n\r\n        protected CreateRequest<T>(body: JQueryAjaxSettings): JQueryPromise<T> {\r\n            Api.conntectionCount(Api.conntectionCount() + 1);\r\n            return $.ajax(body).fail(d => {\r\n                alert(d);\r\n                console.log(d);\r\n            }).always(() => {\r\n                Api.conntectionCount(Api.conntectionCount() - 1);\r\n            });\r\n        }\r\n    }\r\n\r\n    export abstract class ConnectionApi<T> {\r\n\r\n        Get(): JQueryPromise<T[]> {\r\n            return this.CreateRequest<T[]>(this.BuildRequestBody(\"\", HttpMethod.GET));\r\n        }\r\n\r\n        Connect(id1: number, id2: number): JQueryPromise<T> {\r\n            return this.CreateRequest<T>(this.BuildRequestBody(id1 + \"/\" + id2, HttpMethod.POST));\r\n        }\r\n\r\n        Disconnect(id1: number, id2: number): JQueryPromise<T> {\r\n            return this.CreateRequest<T>(this.BuildRequestBody(id1 + \"/\" + id2, HttpMethod.DELETE));\r\n        }\r\n\r\n\r\n        protected CreateRequest<T>(body: JQueryAjaxSettings): JQueryPromise<T> {\r\n             Api.conntectionCount(Api.conntectionCount() + 1);\r\n            return $.ajax(body).fail(d => {\r\n                alert(d);\r\n                console.log(d);\r\n            }).always(() => {\r\n                Api.conntectionCount(Api.conntectionCount() - 1);\r\n            });\r\n        }\r\n\r\n\r\n        constructor(public baseUrl: string) {\r\n\r\n        }\r\n\r\n        BuildRequestBody(url: string, method: HttpMethod, data?: any): JQueryAjaxSettings {\r\n            return {\r\n                contentType: \"application/json; charset=utf-8\",\r\n                dataType: \"json\",\r\n                method: HttpMethod[method],\r\n                url: this.baseUrl + \"/\" + url,\r\n                data: JSON.stringify(data)\r\n            };\r\n        }\r\n\r\n    }\r\n\r\n    export class HarbourApi extends Api<Harbour> {\r\n\r\n        private static default: HarbourApi;\r\n\r\n        static GetDefault(): HarbourApi {\r\n            if (this.default === undefined)\r\n                this.default = new HarbourApi(\"/api/Harbours\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class AlbumApi extends Api<Album> {\r\n\r\n        private static default: AlbumApi;\r\n\r\n        static GetDefault(): AlbumApi {\r\n            if (this.default === undefined)\r\n                this.default = new AlbumApi(\"/api/Albums\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class CommentApi extends Api<Comment> {\r\n\r\n        private static default: CommentApi;\r\n\r\n        static GetDefault(): CommentApi {\r\n            if (this.default === undefined)\r\n                this.default = new CommentApi(\"/api/Comments\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class CommentListApi extends Api<CommentList> {\r\n\r\n        private static default: CommentListApi;\r\n\r\n        static GetDefault(): CommentListApi {\r\n            if (this.default === undefined)\r\n                this.default = new CommentListApi(\"/api/CommentLists\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class WaypointApi extends Api<Waypoint> {\r\n\r\n        private static default: WaypointApi;\r\n\r\n        static GetDefault(): WaypointApi {\r\n            if (this.default === undefined)\r\n                this.default = new WaypointApi(\"/api/Waypoints\");\r\n            return this.default;\r\n        }\r\n    }\r\n\r\n    export class WaypointConnectionApi {\r\n\r\n        private static default: WaypointConnectionApi;\r\n\r\n        static GetDefault(): WaypointConnectionApi {\r\n            if (this.default === undefined)\r\n                this.default = new WaypointConnectionApi(\"/api/WaypointConnections\");\r\n            return this.default;\r\n        }\r\n\r\n        Get(): JQueryPromise<WaypointConnection[]> {\r\n            return this.CreateRequest<WaypointConnection[]>(this.BuildRequestBody(\"\", HttpMethod.GET));\r\n        }\r\n\r\n        Connect(id1: number, id2: number): JQueryPromise<WaypointConnection> {\r\n            return this.CreateRequest<WaypointConnection>(this.BuildRequestBody(id1 + \"/\" + id2, HttpMethod.POST));\r\n        }\r\n        Disconnect(id: number): JQueryPromise<WaypointConnection>;\r\n        Disconnect(id1: number, id2: number): JQueryPromise<WaypointConnection>;\r\n        Disconnect(id1: number, id2?: number): JQueryPromise<WaypointConnection> {\r\n            if (id2 !== undefined)\r\n                return this.CreateRequest<WaypointConnection>(this.BuildRequestBody(id1 + \"/\" + id2, HttpMethod.DELETE));\r\n            return this.CreateRequest<WaypointConnection>(this.BuildRequestBody(id1.toString(), HttpMethod.DELETE));\r\n        }\r\n\r\n        protected CreateRequest<T>(body: JQueryAjaxSettings): JQueryPromise<T> {\r\n            Api.conntectionCount(Api.conntectionCount() + 1);\r\n            return $.ajax(body).fail(d => {\r\n                alert(d);\r\n                console.log(d);\r\n            }).always(() => {\r\n                Api.conntectionCount(Api.conntectionCount() - 1);\r\n            });\r\n        }\r\n\r\n\r\n        constructor(public baseUrl: string) {\r\n\r\n        }\r\n\r\n        BuildRequestBody(url: string, method: HttpMethod, data?: any): JQueryAjaxSettings {\r\n            return {\r\n                contentType: \"application/json; charset=utf-8\",\r\n                dataType: \"json\",\r\n                method: HttpMethod[method],\r\n                url: this.baseUrl + \"/\" + url,\r\n                data: JSON.stringify(data)\r\n            };\r\n        }\r\n\r\n    }\r\n\r\n    export class PersonApi extends Api<Person> {\r\n\r\n        private static default: PersonApi;\r\n\r\n        static GetDefault(): PersonApi {\r\n            if (this.default === undefined)\r\n                this.default = new PersonApi(\"/api/People\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class JobApi extends Api<Job> {\r\n\r\n        private static default: JobApi;\r\n\r\n        static GetDefault(): JobApi {\r\n            if (this.default === undefined)\r\n                this.default = new JobApi(\"/api/Jobs\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class TripApi extends Api<Trip> {\r\n\r\n        private static default: TripApi;\r\n\r\n        static GetDefault(): TripApi {\r\n            if (this.default === undefined)\r\n                this.default = new TripApi(\"/api/Trips\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class TackApi extends Api<Tack> {\r\n\r\n        private static default: TackApi;\r\n\r\n        static GetDefault(): TackApi {\r\n            if (this.default === undefined)\r\n                this.default = new TackApi(\"/api/Tacks\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class AddressApi extends Api<Address> {\r\n\r\n        private static default: AddressApi;\r\n\r\n        static GetDefault(): AddressApi {\r\n            if (this.default === undefined)\r\n                this.default = new AddressApi(\"/api/Addresses\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class ImageApi extends Api<Image> {\r\n\r\n        private static default: ImageApi;\r\n\r\n        static GetDefault(): ImageApi {\r\n            if (this.default === undefined)\r\n                this.default = new ImageApi(\"/api/Images\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class LocationApi extends Api<Location> {\r\n\r\n        private static default: LocationApi;\r\n\r\n        static GetDefault(): LocationApi {\r\n            if (this.default === undefined)\r\n                this.default = new LocationApi(\"/api/Locations\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class SupermarketApi extends Api<Supermarket> {\r\n\r\n        private static default: SupermarketApi;\r\n\r\n        static GetDefault(): SupermarketApi {\r\n            if (this.default === undefined)\r\n                this.default = new SupermarketApi(\"/api/Supermarkets\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    export class RestaurantApi extends Api<Restaurant> {\r\n\r\n        private static default: RestaurantApi;\r\n\r\n        static GetDefault(): RestaurantApi {\r\n            if (this.default === undefined)\r\n                this.default = new RestaurantApi(\"/api/Restaurants\");\r\n            return this.default;\r\n        }\r\n\r\n    }\r\n\r\n    //export class WaypointTackApi extends Api<WaypointTack> {\r\n\r\n    //    private static default: WaypointTackApi;\r\n\r\n    //    static GetDefault(): WaypointTackApi {\r\n    //        if (this.default === undefined)\r\n    //            this.default = new WaypointTackApi(\"/api/WaypointTacks\");\r\n    //        return this.default;\r\n    //    }\r\n\r\n    //}\r\n\r\n}"],"sourceRoot":"/source/"}